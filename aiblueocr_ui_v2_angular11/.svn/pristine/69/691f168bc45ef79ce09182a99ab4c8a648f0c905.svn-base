
<div class="row">
	<div class="col-sm-1"><label class="control-label labelTitle"><span class="">세그먼트 타입</span></label></div>
	<div class="col-sm-2">
		<div class="input-group">
			<select class="form-control" [(ngModel)]="IU_TYPE" (change)="initSearch();searchClustValList();">
				<option *ngFor="let data of extrTypeList" value="{{data.CODE_ID}}">{{data.CODE_NM}}</option>
			</select>
			<span class="input-group-btn"> 
				<button type="button" [class]="detailinfo.SEG_SQL ? 'btn btn-primary' : 'btn btn-default'" (click)="evtBtnSqlClick()"  id="btnSql">SQL</button>
			</span>
		</div>
	</div>
	<div class="col-sm-1"><label class="control-label labelTitle"><span class="">세그먼트 수</span></label></div>
	<div class="col-sm-1">
		<input class="touchspin" type="text" [(ngModel)]="SEG_CNT" #inputClustCnt>
	</div>
	<div class="col-sm-3">
		<div class="buttonGroup">
			<div class="BtnGroupL">
				<a href="javascript:void(0)" (click)="evtBtnExecuteClick()"  class="btn btn-info" title="실행">실행</a>
				<!--<input type="text" [(ngModel)]="resultinfo.SEGDA_ID">-->
				<a href="javascript:void(0)" (click)="evtBtnReExecuteClick()"  class="btn btn-primary" *ngIf="EXEC_CNT === 1" title="재클러스터링">재클러스터링</a>
			</div>
			<!-- <div class="chartBtn">
				<a href="javascript:void(0);" (click)="search()"  class="btn btn-default" title="새로고침"><i class="ti-loop"></i></a>
			</div> -->
		</div>
	</div>
	<div class="col-sm-4">
		<div class="buttonGroup">
			<div class="BtnGroupR">
				<a *ngIf="clustNumList.length > 0" href="javascript:void(0)" (click)="evtBtnSaveClick()"  class="btn btn-primary" title="저장">저장</a>
			</div>
		</div>
	</div>
</div>
<div class="segmentType colRow">
	<div class="packTree02 col20">
		<!-- <div class="treeCon mCustomScrollbar"> -->
			<div class="gridArea">
				<div class="table-responsive">								
				<ag-grid-angular
					id="myGrid"
					style="width: 99%; height: 600px;"
					class="ag-theme-alpine"
					[rowData]="myGridData"
					[columnDefs]="myGridColumnDefs"
					[pagination]="myGridPagination"
					[rowSelection]="myGridtRowSelection"
					[debug]="true"
					[rowHeight]="35"
					paginationAutoPageSize=true
					(gridReady)="onGridReady($event)"
					(rowClicked)="onRowClick($event)"
					(gridSizeChanged)="onGridColumnsSizeChange($event)"
					(rowDataChanged)="onRowDataChanged($event)"
					(selectionChanged)="gridOnSelectionChanged($event)"
				>
				</ag-grid-angular>
				</div>
			</div>

		<!-- </div> -->
	</div>

	<div class="packInfo col80">
		<div class="writeTypeCon">
			<!-- <div class="chartBtnArea">
				<div class="chartBtn">
					<a href="#" class="btn btn-primary btn-outline" title="SQL">SQL</a>
					<a href="#" class="btn btn-primary btn-outline" title="">???</a>
				</div>														
			</div> -->
			<div class="sectionCon">
				<div class="colRow">
					<div class="col80">
						<!-- <div class="segAnalysis"> -->
							<div class="roundBorder packTree03">
								<h2 class="tit-level2">세그먼트 분석 결과<span class="sotxt01"></span></h2>
								<div class="modelChart">
									<div class="data-chart">
										<!-- <canvas id="mainBarChart03" class="mainBarChart03"></canvas> -->
										<chart [type]="chartCallType"
										[data]="chartCallData"
										[options]="chartOptions" id="chartJs" #chartJs style="height:550px;"></chart>
									</div>
								</div>
							</div>
						<!-- </div> -->
					</div>
					<div class="col20">
						<div class="segAnalysis packTree03">
							<h2 class="tit-level2">클러스터 선택</h2>
							<div class="selectCluster">
								<div class="checkbox-out checkBlock">
									<div *ngFor="let item of clustNumList; let i = index"><input  type="checkbox" name="chkClustNum" id="chkClustNum{{i}}" [checked]="true" value="{{i}}"/><label for="chkClustNum{{i}}" class="checkbox">{{item.CLUST_NO}}</label></div>
								</div>
							</div>
						</div>
					</div>
				</div>												
			</div>
			
			
		</div>
	</div>
</div>

<app-modal-segment-sql sqlBuilderTitle="추천 세그먼트 분석" #sqlModal></app-modal-segment-sql>
